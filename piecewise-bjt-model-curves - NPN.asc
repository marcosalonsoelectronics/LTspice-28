Version 4
SHEET 1 1452 680
WIRE 480 -592 272 -592
WIRE 880 -592 560 -592
WIRE 272 -496 272 -592
WIRE 272 -480 272 -496
WIRE 272 -384 272 -416
WIRE 384 -384 272 -384
WIRE 544 -384 384 -384
WIRE 384 -352 384 -384
WIRE 544 -352 544 -384
WIRE 880 -336 880 -592
WIRE 272 -272 272 -384
WIRE 384 -272 384 -288
WIRE 544 -272 544 -288
WIRE 384 -176 384 -192
WIRE 464 -176 384 -176
WIRE 544 -176 544 -192
WIRE 544 -176 464 -176
WIRE 464 -160 464 -176
WIRE -368 -64 -432 -64
WIRE -160 -64 -288 -64
WIRE -96 -64 -160 -64
WIRE 0 -64 -32 -64
WIRE 112 -64 80 -64
WIRE 272 -64 272 -192
WIRE 272 -64 192 -64
WIRE 464 -64 464 -80
WIRE 464 -64 272 -64
WIRE -432 -32 -432 -64
WIRE 272 0 272 -64
WIRE -432 96 -432 48
WIRE 272 112 272 0
WIRE 880 112 880 -256
WIRE 880 112 272 112
WIRE 272 144 272 112
FLAG -160 -64 b
FLAG 272 0 e
FLAG 272 144 0
FLAG -432 96 0
FLAG 272 -496 c
SYMBOL diode -96 -48 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMATTR Value Dmodel
SYMBOL res 96 -80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value {Rbe}
SYMBOL voltage 96 -64 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 -32 56 VBottom 2
SYMATTR InstName V1
SYMATTR Value {Vth}
SYMBOL Misc\\Gpoly 272 -176 R180
WINDOW 0 24 104 Left 2
WINDOW 3 43 58 Left 2
SYMATTR InstName G1
SYMATTR Value value={Beta*i(D1)}
SYMBOL diode 560 -288 R180
WINDOW 0 -53 60 Left 2
WINDOW 3 -104 29 Left 2
SYMATTR InstName D2
SYMATTR Value Dmodel
SYMBOL voltage -432 -48 R0
WINDOW 0 65 52 Left 2
WINDOW 3 42 78 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value {Vdc}
SYMBOL res 576 -608 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 1k
SYMBOL voltage 880 -352 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value SINE(3 5 1k)
SYMBOL res -272 -80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 100k
SYMBOL res 368 -288 R0
SYMATTR InstName R4
SYMATTR Value {Rce}
SYMBOL diode 368 -352 R0
WINDOW 3 42 30 Left 2
SYMATTR Value Dmodel
SYMATTR InstName D3
SYMBOL diode 256 -480 R0
WINDOW 0 73 14 Left 2
WINDOW 3 53 41 Left 2
SYMATTR InstName D4
SYMATTR Value Dmodel
SYMBOL Misc\\Epoly 464 -176 R0
SYMATTR InstName E1
SYMATTR Value value = {Vsat + i(G1)*Rsat}
SYMBOL res 528 -288 R0
SYMATTR InstName R5
SYMATTR Value {Rsat}
TEXT -40 192 Left 2 !.model Dmodel D(Ron=1m Roff=100meg Vfwd=1m Vrev=1k)
TEXT -424 -464 Left 2 !.param Rbe=1 Vth=0.7\n.param Beta=100\n.param Vsat=0.5 Rsat=100 Rce=10k
TEXT -416 -520 Left 2 !.tran 0 10m 8m 1u
TEXT -416 -312 Left 2 !.step param Vdc list 0.1 2 3 4  5
